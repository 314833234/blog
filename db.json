{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/logo1.png","path":"css/images/logo1.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/logo2.png","path":"css/images/logo2.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/demo.css","path":"css/iconfont/demo.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/demo_fontclass.html","path":"css/iconfont/demo_fontclass.html","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/demo_symbol.html","path":"css/iconfont/demo_symbol.html","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/demo_unicode.html","path":"css/iconfont/demo_unicode.html","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.css","path":"css/iconfont/iconfont.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.eot","path":"css/iconfont/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.js","path":"css/iconfont/iconfont.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.svg","path":"css/iconfont/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.ttf","path":"css/iconfont/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/iconfont/iconfont.woff","path":"css/iconfont/iconfont.woff","modified":0,"renderable":1}],"Cache":[{"_id":"themes/landscape/.npmignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1495847959898},{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1495847959898},{"_id":"themes/landscape/README.md","hash":"c7e83cfe8f2c724fc9cac32bd71bb5faf9ceeddb","modified":1495847959899},{"_id":"themes/landscape/_config.yml","hash":"7d11ebabbb5176e50e35fb096393c4ce8256c5bc","modified":1496924018662},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1495847959898},{"_id":"themes/landscape/package.json","hash":"85358dc34311c6662e841584e206a4679183943f","modified":1495847959900},{"_id":"source/_posts/art1.md","hash":"f292dee9cd52bf4900bdd4628d9d2523ab88d21d","modified":1496302442624},{"_id":"source/_posts/art10.md","hash":"7b7f4bec9be38b0247404c845e0a04d1b47667e3","modified":1496303825017},{"_id":"source/_posts/art13.md","hash":"f7044878b64efe6a8b9fcce7db0f6bff3bc93010","modified":1496367038396},{"_id":"source/_posts/art12.md","hash":"67527beed02f464907725511d9198981d7f175cf","modified":1496367004702},{"_id":"source/_posts/art11.md","hash":"2ca2855e79e5f86e6f4c0117d3b4d4468949326e","modified":1496366976135},{"_id":"source/_posts/art2.md","hash":"6b9a1afac0b762c58a29a820e4817eb9b6e6b1f1","modified":1496302457560},{"_id":"source/_posts/art14.md","hash":"8b69ba2c4bc939f8ddebbf9684167940ad74136a","modified":1496367055255},{"_id":"source/_posts/art3.md","hash":"ef1e3ef8d038b0683edddb48493ccf0430f6a370","modified":1496302471735},{"_id":"source/_posts/art4.md","hash":"9f1b22bbf415312eb8ef2b92a85710f2544486ca","modified":1496302495278},{"_id":"source/_posts/art5.md","hash":"4a822233ecbfa6c57f86d20b5e9371705880d9e9","modified":1496302526168},{"_id":"source/_posts/art7.md","hash":"0ef0702b4260ed72fc9bada0963031055e5089e8","modified":1496365367795},{"_id":"source/_posts/art8.md","hash":"bdf683235b0b1d695b6c2ee09112b3b269b2e975","modified":1496303770608},{"_id":"source/_posts/art6.md","hash":"44146ea899ad98aac81dbcf1160397807375ebb9","modified":1496302554207},{"_id":"source/_posts/art9.md","hash":"22fb40aa9d7226b062ef33413f8bc5f85257be8d","modified":1496303796792},{"_id":"themes/landscape/languages/default.yml","hash":"c76227c8b4a9fcbd42683bee1211817d1c9094d3","modified":1496231788368},{"_id":"themes/landscape/languages/fr.yml","hash":"f6190ed7252b16290156fc72330903be12263528","modified":1496231388710},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1495847959909},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1495847959909},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1495847959912},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1495847959912},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1495847959912},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1495847959912},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1496279431459},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1495847959913},{"_id":"themes/landscape/layout/layout.ejs","hash":"e2e8be6c2e230f92100bb430eb550097f1a6b964","modified":1496382267739},{"_id":"themes/landscape/layout/page.ejs","hash":"c1888ee5e95c3015083f8f7d112a3f5d191a491f","modified":1496381215884},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1495847959913},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1495847959913},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1495847959912},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"82a30f81c0e8ba4a8af17acd6cc99e93834e4d5e","modified":1495847959931},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"2c5a44380e70fede167995e5f1c0181eb89e27d8","modified":1496384785161},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"f3fb89338e6d7324425515db4d3c86829ba911e9","modified":1496738854290},{"_id":"themes/landscape/layout/_partial/article_index.ejs","hash":"2928f2be044e997343814da0a9b21c8002b45c34","modified":1496374285908},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"bea087abcbe42e00a609672a2c8417a8b5aece5a","modified":1496366580909},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1495847959933},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"6a7b4cf54025295479192a933e18b81a6435550c","modified":1496278727022},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"456f16795a9c3ce986ccfc37887bbb22558fbc1d","modified":1496382645399},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"01d6bfeeb59ef7039db972543d2e2a991ea0f5fe","modified":1496382584309},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1495847959934},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1495847959934},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1495847959934},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1495847959934},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1495847959932},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1495847959934},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1495847959934},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1495847959934},{"_id":"themes/landscape/source/css/_variables.styl","hash":"4cbb7bc54771ee382ae7e4ba340d200d11ef56fc","modified":1496223147071},{"_id":"themes/landscape/source/css/style.styl","hash":"1e5ea7bfdcca985623eb4e66d1c6e521450c9b61","modified":1496382780075},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1495847959935},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1495847959936},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1495847959936},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1495847959936},{"_id":"themes/landscape/source/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1495847959934},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1495847959947},{"_id":"themes/landscape/layout/_partial/post/category_index.ejs","hash":"3f1b8de3925d66fb494b59118273b45fa01c435c","modified":1496305078897},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1495847959947},{"_id":"themes/landscape/layout/_partial/post/date_index.ejs","hash":"b3db8bbd225ac3ced63e830e3afd554010425a3c","modified":1496304848186},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1495847959947},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1495847959946},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1495847959947},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1495847959947},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"adacc125c38a5c4646836c389ebcc6961f4a9440","modified":1496740785226},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"376a03807f988d951155c9eb57593b4319f7eb58","modified":1496383400569},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"8d04a2037439ef87735c6ca3117846547d6846b1","modified":1496382484129},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1495847959948},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1495847959948},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1495847959948},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"c0b85e66433cd969807a24c86d602d1d80dc0f47","modified":1496309053546},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1496231521762},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1495847959949},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1495847959949},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1495847959948},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1495847959949},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1495847959949},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1495847959948},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1495847959949},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1495847959949},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1495847959949},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1495847959949},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1495847959949},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1495847959950},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1495847959950},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1495847959950},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1495847959950},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1495847959950},{"_id":"themes/landscape/source/css/iconfont/demo.css","hash":"6deb7df58066f12c881312aaaca18fba8f533b9e","modified":1496371507000},{"_id":"themes/landscape/source/css/iconfont/demo_fontclass.html","hash":"a4d36ee74ae683386b908be88ab2e9453dcf28f2","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/demo_symbol.html","hash":"e8f0d09cda1d9df32fe05da2e955cb6e70136f13","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.css","hash":"86cc0186a3e4e8e657f6288de48bfbc6930be527","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/demo_unicode.html","hash":"8b326188578597afb4837ccd1820850710d3e6b3","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.eot","hash":"fbf743303548767d3778090a16b291fd137e7f1c","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.js","hash":"db6ec08364d9114cf768718333b6ac918fc4812b","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.svg","hash":"9df463d507c68b03008669b479a8aac90d1f4728","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.ttf","hash":"a3f868f6b061735d6dfc8730f4c4b73c85891e77","modified":1496374223000},{"_id":"themes/landscape/source/css/iconfont/iconfont.woff","hash":"e193881c8475aac5aecfec0db41e38d7acfa89eb","modified":1496374223000},{"_id":"themes/landscape/source/css/images/logo1.png","hash":"63338fb07c2179d2f9794582ddfe4c40a6e7925b","modified":1496369060215},{"_id":"themes/landscape/source/css/images/logo2.png","hash":"71c81eb726cbb3440344108c7f74ce049a2489a5","modified":1496369061643}],"Category":[{"name":"前端","_id":"cj3e65qsd0002dsvkpv10dmj4"}],"Data":[],"Page":[],"Post":[{"layout":"[layout]","title":"benchmark 怎么写","date":"2017-06-01T01:33:42.000Z","description":"有一个字符串 var number = '100'，我们要将它转换成 Number 类型的 100。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art10.md","raw":"---\nlayout: '[layout]'\ntitle: benchmark 怎么写\ndate: 2017-06-01 09:33:42\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 有一个字符串 var number = '100'，我们要将它转换成 Number 类型的 100。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art10","published":1,"updated":"2017-06-01T07:57:05.017Z","comments":1,"photos":[],"link":"","_id":"cj3e65qry0000dsvkw4v3cze5","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"搭建 Node.js 开发环境","date":"2017-05-27T01:39:21.000Z","description":"本课程假设大家都是在 Linux 或者 Mac 下面。至于使用 Windows 并坚持玩新技术的同学，我坚信他们一定有着过人的、甚至是不可告人的兼容性 bug 处理能力，所以这部分同学麻烦在课程无法继续时，自行兼容一下。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n\n\n\n\n","source":"_posts/art1.md","raw":"---\nlayout: '[layout]'\ntitle: 搭建 Node.js 开发环境\ndate: 2017-05-27 09:39:21\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 本课程假设大家都是在 Linux 或者 Mac 下面。至于使用 Windows 并坚持玩新技术的同学，我坚信他们一定有着过人的、甚至是不可告人的兼容性 bug 处理能力，所以这部分同学麻烦在课程无法继续时，自行兼容一下。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n\n\n\n\n","slug":"art1","published":1,"updated":"2017-06-01T07:34:02.624Z","comments":1,"photos":[],"link":"","_id":"cj3e65qsb0001dsvkseyf83nl","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"使用 promise 替代回调函数","date":"2017-06-01T08:38:39.000Z","description":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。","_content":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","source":"_posts/art13.md","raw":"---\nlayout: '[layout]'\ntitle: 使用 promise 替代回调函数\ndate: 2017-06-01 16:38:39\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n---\n类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","slug":"art13","published":1,"updated":"2017-06-02T01:30:38.396Z","_id":"cj3e65qsg0004dsvkdu97p9jf","comments":1,"photos":[],"link":"","content":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n"},{"layout":"[layout]","title":"js 中的那些最佳实践","date":"2017-06-01T08:38:36.000Z","description":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。","_content":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","source":"_posts/art12.md","raw":"---\nlayout: '[layout]'\ntitle: js 中的那些最佳实践\ndate: 2017-06-01 16:38:36\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n---\n类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","slug":"art12","published":1,"updated":"2017-06-02T01:30:04.702Z","_id":"cj3e65qsh0005dsvkrpo8pm6g","comments":1,"photos":[],"link":"","content":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n"},{"layout":"[layout]","title":"持续集成平台：travis","date":"2017-06-01T08:38:32.000Z","description":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。","_content":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","source":"_posts/art11.md","raw":"---\nlayout: '[layout]'\ntitle: '持续集成平台：travis'\ndate: 2017-06-01 16:38:32\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n---\n类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","slug":"art11","published":1,"updated":"2017-06-02T01:29:36.135Z","_id":"cj3e65qsm0006dsvk1jn9cztd","comments":1,"photos":[],"link":"","content":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n"},{"layout":"[layout]","title":"一个最简单的 express 应用","date":"2017-05-27T01:56:26.000Z","comments":1,"description":"建立一个 lesson1 项目，在其中编写代码。当在浏览器中访问 http://localhost:3000/ 时，输出 Hello World。","_content":"\n入门实例，实现一个简单的评论展示以及点赞功能\n代码如下：\nmyController.js代码：\n\n``` bash\n<!DOCTYPE html>\n<html ng-app=\"myapp\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>angular入门实例</title>\n    <script src=\"lib/angular.js\"></script>\n    <script src=\"controllers/myController.js\"></script>\n</head>\n<body>\n\n    <div ng-controller=\"myCtrl\">\n        <h3 ng-model=\"pageData\">{{pageData.title}}</h3>\n        <ul>\n            <li ng-repeat=\"item in items\">\n                <p>{{item.comment}}</p>\n                <span>{{item.date | date:\"yyyy-MM-dd HH-mm-ss\"}}</span>\n                <button ng-click=\"favourEvent($index)\">赞 {{item.favour}}</button>\n            </li>\n        </ul>\n    </div>\n\n</body>\n</html>\n\n\nvar app = angular.module('myapp', []);\napp.controller('myCtrl', function($scope){\n    //定义标题\n    $scope.pageData = {title: '评论'\n    };\n\n    //定义评论数据数组\n    $scope.items = [\n        {comment: '评论1', date: '1484189597173', favour: 0},\n        {comment: '评论2', date: '1484184597173', favour: 0},\n        {comment: '评论3', date: '1484129597173', favour: 0},\n        {comment: '评论4', date: '1484184597173', favour: 0},\n        {comment: '评论5', date: '1484189595173', favour: 0}\n    ];\n\n    /**\n     * 点击赞\n     * @param index 当前数组的索引值\n     */\n    $scope.favourEvent = function(index){\n        $scope.items[index].favour++;\n    }\n})\n```","source":"_posts/art2.md","raw":"---\nlayout: '[layout]'\ntitle: 一个最简单的 express 应用\ndate: 2017-05-27 09:56:26\ncomments: true\ncategories:\n- 前端\ntags:\n- AngularJS\ndescription: 建立一个 lesson1 项目，在其中编写代码。当在浏览器中访问 http://localhost:3000/ 时，输出 Hello World。\n---\n\n入门实例，实现一个简单的评论展示以及点赞功能\n代码如下：\nmyController.js代码：\n\n``` bash\n<!DOCTYPE html>\n<html ng-app=\"myapp\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>angular入门实例</title>\n    <script src=\"lib/angular.js\"></script>\n    <script src=\"controllers/myController.js\"></script>\n</head>\n<body>\n\n    <div ng-controller=\"myCtrl\">\n        <h3 ng-model=\"pageData\">{{pageData.title}}</h3>\n        <ul>\n            <li ng-repeat=\"item in items\">\n                <p>{{item.comment}}</p>\n                <span>{{item.date | date:\"yyyy-MM-dd HH-mm-ss\"}}</span>\n                <button ng-click=\"favourEvent($index)\">赞 {{item.favour}}</button>\n            </li>\n        </ul>\n    </div>\n\n</body>\n</html>\n\n\nvar app = angular.module('myapp', []);\napp.controller('myCtrl', function($scope){\n    //定义标题\n    $scope.pageData = {title: '评论'\n    };\n\n    //定义评论数据数组\n    $scope.items = [\n        {comment: '评论1', date: '1484189597173', favour: 0},\n        {comment: '评论2', date: '1484184597173', favour: 0},\n        {comment: '评论3', date: '1484129597173', favour: 0},\n        {comment: '评论4', date: '1484184597173', favour: 0},\n        {comment: '评论5', date: '1484189595173', favour: 0}\n    ];\n\n    /**\n     * 点击赞\n     * @param index 当前数组的索引值\n     */\n    $scope.favourEvent = function(index){\n        $scope.items[index].favour++;\n    }\n})\n```","slug":"art2","published":1,"updated":"2017-06-01T07:34:17.560Z","photos":[],"link":"","_id":"cj3e65qsp000adsvktqnbrxqz","content":"<p>入门实例，实现一个简单的评论展示以及点赞功能<br>代码如下：<br>myController.js代码：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">&lt;html ng-app=<span class=\"string\">\"myapp\"</span>&gt;</div><div class=\"line\">&lt;head&gt;</div><div class=\"line\">    &lt;meta charset=<span class=\"string\">\"UTF-8\"</span>&gt;</div><div class=\"line\">    &lt;title&gt;angular入门实例&lt;/title&gt;</div><div class=\"line\">    &lt;script src=<span class=\"string\">\"lib/angular.js\"</span>&gt;&lt;/script&gt;</div><div class=\"line\">    &lt;script src=<span class=\"string\">\"controllers/myController.js\"</span>&gt;&lt;/script&gt;</div><div class=\"line\">&lt;/head&gt;</div><div class=\"line\">&lt;body&gt;</div><div class=\"line\"></div><div class=\"line\">    &lt;div ng-controller=<span class=\"string\">\"myCtrl\"</span>&gt;</div><div class=\"line\">        &lt;h3 ng-model=<span class=\"string\">\"pageData\"</span>&gt;&#123;&#123;pageData.title&#125;&#125;&lt;/h3&gt;</div><div class=\"line\">        &lt;ul&gt;</div><div class=\"line\">            &lt;li ng-repeat=<span class=\"string\">\"item in items\"</span>&gt;</div><div class=\"line\">                &lt;p&gt;&#123;&#123;item.comment&#125;&#125;&lt;/p&gt;</div><div class=\"line\">                &lt;span&gt;&#123;&#123;item.date | date:<span class=\"string\">\"yyyy-MM-dd HH-mm-ss\"</span>&#125;&#125;&lt;/span&gt;</div><div class=\"line\">                &lt;button ng-click=<span class=\"string\">\"favourEvent(<span class=\"variable\">$index</span>)\"</span>&gt;赞 &#123;&#123;item.favour&#125;&#125;&lt;/button&gt;</div><div class=\"line\">            &lt;/li&gt;</div><div class=\"line\">        &lt;/ul&gt;</div><div class=\"line\">    &lt;/div&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/body&gt;</div><div class=\"line\">&lt;/html&gt;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">var app = angular.module(<span class=\"string\">'myapp'</span>, []);</div><div class=\"line\">app.controller(<span class=\"string\">'myCtrl'</span>, <span class=\"keyword\">function</span>(<span class=\"variable\">$scope</span>)&#123;</div><div class=\"line\">    //定义标题</div><div class=\"line\">    <span class=\"variable\">$scope</span>.pageData = &#123;title: <span class=\"string\">'评论'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    //定义评论数据数组</div><div class=\"line\">    <span class=\"variable\">$scope</span>.items = [</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论1'</span>, date: <span class=\"string\">'1484189597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论2'</span>, date: <span class=\"string\">'1484184597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论3'</span>, date: <span class=\"string\">'1484129597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论4'</span>, date: <span class=\"string\">'1484184597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论5'</span>, date: <span class=\"string\">'1484189595173'</span>, favour: 0&#125;</div><div class=\"line\">    ];</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 点击赞</div><div class=\"line\">     * @param index 当前数组的索引值</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"variable\">$scope</span>.favourEvent = <span class=\"keyword\">function</span>(index)&#123;</div><div class=\"line\">        <span class=\"variable\">$scope</span>.items[index].favour++;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>入门实例，实现一个简单的评论展示以及点赞功能<br>代码如下：<br>myController.js代码：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">&lt;html ng-app=<span class=\"string\">\"myapp\"</span>&gt;</div><div class=\"line\">&lt;head&gt;</div><div class=\"line\">    &lt;meta charset=<span class=\"string\">\"UTF-8\"</span>&gt;</div><div class=\"line\">    &lt;title&gt;angular入门实例&lt;/title&gt;</div><div class=\"line\">    &lt;script src=<span class=\"string\">\"lib/angular.js\"</span>&gt;&lt;/script&gt;</div><div class=\"line\">    &lt;script src=<span class=\"string\">\"controllers/myController.js\"</span>&gt;&lt;/script&gt;</div><div class=\"line\">&lt;/head&gt;</div><div class=\"line\">&lt;body&gt;</div><div class=\"line\"></div><div class=\"line\">    &lt;div ng-controller=<span class=\"string\">\"myCtrl\"</span>&gt;</div><div class=\"line\">        &lt;h3 ng-model=<span class=\"string\">\"pageData\"</span>&gt;&#123;&#123;pageData.title&#125;&#125;&lt;/h3&gt;</div><div class=\"line\">        &lt;ul&gt;</div><div class=\"line\">            &lt;li ng-repeat=<span class=\"string\">\"item in items\"</span>&gt;</div><div class=\"line\">                &lt;p&gt;&#123;&#123;item.comment&#125;&#125;&lt;/p&gt;</div><div class=\"line\">                &lt;span&gt;&#123;&#123;item.date | date:<span class=\"string\">\"yyyy-MM-dd HH-mm-ss\"</span>&#125;&#125;&lt;/span&gt;</div><div class=\"line\">                &lt;button ng-click=<span class=\"string\">\"favourEvent(<span class=\"variable\">$index</span>)\"</span>&gt;赞 &#123;&#123;item.favour&#125;&#125;&lt;/button&gt;</div><div class=\"line\">            &lt;/li&gt;</div><div class=\"line\">        &lt;/ul&gt;</div><div class=\"line\">    &lt;/div&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/body&gt;</div><div class=\"line\">&lt;/html&gt;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">var app = angular.module(<span class=\"string\">'myapp'</span>, []);</div><div class=\"line\">app.controller(<span class=\"string\">'myCtrl'</span>, <span class=\"keyword\">function</span>(<span class=\"variable\">$scope</span>)&#123;</div><div class=\"line\">    //定义标题</div><div class=\"line\">    <span class=\"variable\">$scope</span>.pageData = &#123;title: <span class=\"string\">'评论'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    //定义评论数据数组</div><div class=\"line\">    <span class=\"variable\">$scope</span>.items = [</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论1'</span>, date: <span class=\"string\">'1484189597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论2'</span>, date: <span class=\"string\">'1484184597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论3'</span>, date: <span class=\"string\">'1484129597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论4'</span>, date: <span class=\"string\">'1484184597173'</span>, favour: 0&#125;,</div><div class=\"line\">        &#123;comment: <span class=\"string\">'评论5'</span>, date: <span class=\"string\">'1484189595173'</span>, favour: 0&#125;</div><div class=\"line\">    ];</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 点击赞</div><div class=\"line\">     * @param index 当前数组的索引值</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"variable\">$scope</span>.favourEvent = <span class=\"keyword\">function</span>(index)&#123;</div><div class=\"line\">        <span class=\"variable\">$scope</span>.items[index].favour++;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>"},{"layout":"[layout]","title":"何为 connect 中间件","date":"2017-06-01T08:38:42.000Z","description":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。","_content":"类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","source":"_posts/art14.md","raw":"---\nlayout: '[layout]'\ntitle: 何为 connect 中间件\ndate: 2017-06-01 16:38:42\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n---\n类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。\n\n为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。\n\n当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。\n\ntravis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。\n\ntravis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。\n\n我们来讲讲接入 travis 的步骤。\n\ntravis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。","slug":"art14","published":1,"updated":"2017-06-02T01:30:55.255Z","_id":"cj3e65qsr000cdsvk6pawf4hk","comments":1,"photos":[],"link":"","content":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>类似这样的 badges，在很多项目中都可以看到。前者是告诉我们，这个项目的测试目前是通过的；后者是告诉我们，这个测试的行覆盖率是多少。行覆盖率当然是越多越好。测试的重要性我就不说了。</p>\n<p>为什么要使用 travis 这样的平台，是因为它可以让你明白自己的项目在一个“空白环境”中，是否能正确运行；也可以让你知道，用不同的 Node.js 版本运行的话，有没有兼容性问题。</p>\n<p>当你在自己的机器上跑测试的时候，你用着特定的 Node.js 版本，比如 0.10，如果测试过了，你也还是不懂在 0.11 下，你的测试能不能通过。你可以手动地切换 node 版本再跑一次，也可以选择让 travis 帮你把不同的 node 版本跑一次。而且有时候，我们 npm 安装了某个包，但却忘记将它写入 package.json 里面了，在自己的机器上，测试没问题，但当别的用户安装你的包时，会发现有依赖缺失。</p>\n<p>travis 应该是把虚拟机的技术玩得比较好，它每次跑测试时，都会提供一个空白的环境。这个环境只有 Linux 基本的 build-essential 和 wget、git 那些依赖。连 Node.js 的运行时都是现跑现安装的。</p>\n<p>travis 默认带有的那些依赖，都是每个用户的机器上都会有的，所以一旦你的应用在 travis 上面能够跑通，那么就不用担心别的用户安装不上了。</p>\n<p>我们来讲讲接入 travis 的步骤。</p>\n<p>travis 的价格是免费的，对于 github 上的开源项目来说。它默认当然不可能帮 github 的每个用户都跑测试，所以你需要去注册一下 travis，然后告诉它你需要开启集成测试的仓库。</p>\n"},{"layout":"[layout]","title":"学习使用外部模块","date":"2017-06-01T01:32:36.000Z","description":"当在浏览器中访问 http://localhost:3000/?q=alsotang 时，输出 alsotang 的 md5 值，即 bdd5e57b5c0040f9dc23d430846e68a3。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art3.md","raw":"---\nlayout: '[layout]'\ntitle: 学习使用外部模块\ndate: 2017-06-01 09:32:36\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 当在浏览器中访问 http://localhost:3000/?q=alsotang 时，输出 alsotang 的 md5 值，即 bdd5e57b5c0040f9dc23d430846e68a3。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art3","published":1,"updated":"2017-06-01T07:34:31.735Z","comments":1,"photos":[],"link":"","_id":"cj3e65qsv000fdsvkdlcz7koo","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"使用 superagent 与 cheerio 完成简单爬虫","date":"2017-06-01T01:33:15.000Z","description":"当在浏览器中访问 http://localhost:3000/ 时，输出 CNode(https://cnodejs.org/ ) 社区首页的所有帖子标题和链接，以 json 的形式。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art4.md","raw":"---\nlayout: '[layout]'\ntitle: 使用 superagent 与 cheerio 完成简单爬虫\ndate: 2017-06-01 09:33:15\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 当在浏览器中访问 http://localhost:3000/ 时，输出 CNode(https://cnodejs.org/ ) 社区首页的所有帖子标题和链接，以 json 的形式。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art4","published":1,"updated":"2017-06-01T07:34:55.278Z","comments":1,"photos":[],"link":"","_id":"cj3e65qsw000hdsvk6wsc5omb","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"使用 eventproxy 控制并发","date":"2017-06-01T01:33:24.000Z","description":"代码的入口是 app.js，当调用 node app.js 时，它会输出 CNode(https://cnodejs.org/ ) 社区首页的所有主题的标题，链接和第一条评论，以 json 的格式。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art5.md","raw":"---\nlayout: '[layout]'\ntitle: 使用 eventproxy 控制并发\ndate: 2017-06-01 09:33:24\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 代码的入口是 app.js，当调用 node app.js 时，它会输出 CNode(https://cnodejs.org/ ) 社区首页的所有主题的标题，链接和第一条评论，以 json 的格式。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art5","published":1,"updated":"2017-06-01T07:35:26.168Z","comments":1,"photos":[],"link":"","_id":"cj3e65qsy000kdsvkjoiibm8g","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"使用 async 控制并发","date":"2017-06-01T01:33:26.000Z","description":"建立一个 lesson5 项目，在其中编写代码。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art6.md","raw":"---\nlayout: '[layout]'\ntitle: 使用 async 控制并发\ndate: 2017-06-01 09:33:26\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 建立一个 lesson5 项目，在其中编写代码。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art6","published":1,"updated":"2017-06-01T07:35:54.207Z","comments":1,"photos":[],"link":"","_id":"cj3e65qt0000ndsvkq7ucwhwd","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"浏览器端测试：mocha，chai，phantomjs","date":"2017-06-01T01:33:33.000Z","description":"lesson6 的内容都是针对后端环境中 node 的一些单元测试方案，出于应用健壮性的考量，针对前端 js 脚本的单元测试也非常重要。而前后端通吃，也是 mocha 的一大特点。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art8.md","raw":"---\nlayout: '[layout]'\ntitle: 浏览器端测试：mocha，chai，phantomjs\ndate: 2017-06-01 09:33:33\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: lesson6 的内容都是针对后端环境中 node 的一些单元测试方案，出于应用健壮性的考量，针对前端 js 脚本的单元测试也非常重要。而前后端通吃，也是 mocha 的一大特点。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art8","published":1,"updated":"2017-06-01T07:56:10.608Z","comments":1,"photos":[],"link":"","_id":"cj3e65qt3000qdsvkjm0ywhx7","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"正则表达式","date":"2017-06-01T01:33:37.000Z","description":"开始这门课之前，大家先去看两篇文章。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art9.md","raw":"---\nlayout: '[layout]'\ntitle: 正则表达式\ndate: 2017-06-01 09:33:37\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 开始这门课之前，大家先去看两篇文章。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art9","published":1,"updated":"2017-06-01T07:56:36.792Z","comments":1,"photos":[],"link":"","_id":"cj3e65qt7000tdsvkjlbjohg6","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"},{"layout":"[layout]","title":"测试用例：mocha，should，istanbul","date":"2017-06-01T01:33:30.000Z","description":"其中有个 fibonacci 函数。fibonacci 的介绍见：http://en.wikipedia.org/wiki/Fibonacci_number 。","_content":"app.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","source":"_posts/art7.md","raw":"---\nlayout: '[layout]'\ntitle: 测试用例：mocha，should，istanbul\ndate: 2017-06-01 09:33:30\ncategories:\n- 前端\ntags:\n- VueJS\ndescription: 其中有个 fibonacci 函数。fibonacci 的介绍见：http://en.wikipedia.org/wiki/Fibonacci_number 。\n---\napp.js\n``` bash\nvar myApp = angular.module('starter', ['ionic','oc.lazyLoad’]);\n\nmyApp.config(function($stateProvider,\n                 $urlRouterProvider,\n                 $provide,\n                 $compileProvider,\n                 $controllerProvider,\n                 $filterProvider) {\n    //加载配置\n    myApp.controller = $controllerProvider.register;\n    myApp.directive = $compileProvider.directive;\n    myApp.filter = $filterProvider.register;\n    myApp.factory = $provide.factory;\n    myApp.service = $provide.service;\n    myApp.constant = $provide.constant;\n\n    //注册路由\n    gFunRegisterAppBasePageStateData($stateProvider.state);\n    // if none of the above states are matched, use this as the fallback\n    $urlRouterProvider.otherwise('/login');\n});\n```\n\noclazyload.config.js\n``` bash\nmyApp.constant('Modules_Config', [\n  {\n    name:\"login”,\n    module:true,\n    files:[\"view/controllers/account/signInController.js”]\n  },\n  {\n    name:\"signIn”,\n    module:true,\n    files:[\"view/controllers/account/signUpController.js”]\n  }]);\n\nmyApp.config([\"$ocLazyLoadProvider\",\"Modules_Config\",routeFn]);\n\nfunction routeFn($ocLazyLoadProvider, Modules_Config){\n  $ocLazyLoadProvider.config({\n    debug:false,\n    events:false,\n    modules:Modules_Config\n  })\n}\n```\n\nrouter.config.js\n``` bash\nvar _appAccountRoutesCfg = [\n  {\n    \"pageId\": \"0001”,\n    \"pageDesc\": \"登录”,\n    \"pageState\": \"login”,\n    \"pageUrlObject\": {\n        \"url\": \"/login”,\n        \"templateUrl\": \"view/html/account/signIn.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"login\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signInController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  },\n  {\n    \"pageId\": \"0002”,\n    \"pageDesc\": \"注册”,\n    \"pageState\": \"signIn”,\n    \"pageUrlObject\": {\n        \"url\": \"/signIn”,\n        \"templateUrl\": \"view/html/account/signUp.html”,\n        \"resolve\": {\n            \"deps\": [\"$ocLazyLoad\",function($ocLazyLoad){\n                return $ocLazyLoad.load(\"signIn\").then(\n                    function(){\n                        return $ocLazyLoad.load(\"view/controllers/account/signUpController.js”);\n                    }\n                );\n            }]\n        }\n    }\n  }\n];\n```\nmyPageRouteManagement.js\n``` bash\n/**\n * 将配置的数据写入全局的路由数据缓存中\n *\n * @param cfgPageStateDataList\n */\nvar gVarAppCfgPageStateDataList = [];\n/**\n * 获取所有配置路由数据\n * @param cfgStateDataList\n */\nfunction gFunSaveCfgPageStateDataToBuffer(cfgStateDataList) {\n    for (var i=0; i < cfgStateDataList.length; i++) {\n        gVarAppCfgPageStateDataList.push(cfgStateDataList[i]);\n    }\n}\n\nfunction gFunRegisterPageStateDataToStateProvider(appCfgPageStateData, registerPageStateFunctionHandle) {\n  registerPageStateFunctionHandle(appCfgPageStateData.pageState, appCfgPageStateData.pageUrlObject);\n}\n\nfunction gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) {\n    for (var index = 0; index < gVarAppCfgPageStateDataList.length; index++) {\n    //注册页面路由\n    gFunRegisterPageStateDataToStateProvider(gVarAppCfgPageStateDataList[index], registerPageStateFunctionHandle);\n    }\n}\n```\n","slug":"art7","published":1,"updated":"2017-06-02T01:02:47.795Z","_id":"cj3f5aza90000tovk3stq0ujw","comments":1,"photos":[],"link":"","content":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>app.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">var myApp = angular.module(<span class=\"string\">'starter'</span>, [<span class=\"string\">'ionic'</span>,<span class=\"string\">'oc.lazyLoad’]);</span></div><div class=\"line\"></div><div class=\"line\">myApp.config(function($stateProvider,</div><div class=\"line\">                 $urlRouterProvider,</div><div class=\"line\">                 $provide,</div><div class=\"line\">                 $compileProvider,</div><div class=\"line\">                 $controllerProvider,</div><div class=\"line\">                 $filterProvider) &#123;</div><div class=\"line\">    //加载配置</div><div class=\"line\">    myApp.controller = $controllerProvider.register;</div><div class=\"line\">    myApp.directive = $compileProvider.directive;</div><div class=\"line\">    myApp.filter = $filterProvider.register;</div><div class=\"line\">    myApp.factory = $provide.factory;</div><div class=\"line\">    myApp.service = $provide.service;</div><div class=\"line\">    myApp.constant = $provide.constant;</div><div class=\"line\"></div><div class=\"line\">    //注册路由</div><div class=\"line\">    gFunRegisterAppBasePageStateData($stateProvider.state);</div><div class=\"line\">    // if none of the above states are matched, use this as the fallback</div><div class=\"line\">    $urlRouterProvider.otherwise('/login<span class=\"string\">');</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<p>oclazyload.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.constant(<span class=\"string\">'Modules_Config'</span>, [</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"login”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signInController.js”]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    name:<span class=\"string\">\"signIn”,</span></div><div class=\"line\">    module:true,</div><div class=\"line\">    files:[\"view/controllers/account/signUpController.js”]</div><div class=\"line\">  &#125;]);</div><div class=\"line\"></div><div class=\"line\">myApp.config([<span class=\"string\">\"<span class=\"variable\">$ocLazyLoadProvider</span>\"</span>,<span class=\"string\">\"Modules_Config\"</span>,routeFn]);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> routeFn(<span class=\"variable\">$ocLazyLoadProvider</span>, Modules_Config)&#123;</div><div class=\"line\">  <span class=\"variable\">$ocLazyLoadProvider</span>.config(&#123;</div><div class=\"line\">    debug:<span class=\"literal\">false</span>,</div><div class=\"line\">    events:<span class=\"literal\">false</span>,</div><div class=\"line\">    modules:Modules_Config</div><div class=\"line\">  &#125;)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>router.config.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div></pre></td><td class=\"code\"><pre><div class=\"line\">var _appAccountRoutesC<span class=\"built_in\">fg</span> = [</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0001”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>登录”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"login”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/login”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signIn.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"login<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signInController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;,</div><div class=\"line\">  &#123;</div><div class=\"line\">    <span class=\"string\">\"pageId\"</span>: <span class=\"string\">\"0002”,</span></div><div class=\"line\">    \"pageDesc<span class=\"string\">\": \"</span>注册”,</div><div class=\"line\">    <span class=\"string\">\"pageState\"</span>: <span class=\"string\">\"signIn”,</span></div><div class=\"line\">    \"pageUrlObject<span class=\"string\">\": &#123;</span></div><div class=\"line\">        \"url<span class=\"string\">\": \"</span>/signIn”,</div><div class=\"line\">        <span class=\"string\">\"templateUrl\"</span>: <span class=\"string\">\"view/html/account/signUp.html”,</span></div><div class=\"line\">        \"resolve<span class=\"string\">\": &#123;</span></div><div class=\"line\">            \"deps<span class=\"string\">\": [\"</span><span class=\"variable\">$ocLazyLoad</span><span class=\"string\">\",function(<span class=\"variable\">$ocLazyLoad</span>)&#123;</span></div><div class=\"line\">                return <span class=\"variable\">$ocLazyLoad</span>.load(\"signIn<span class=\"string\">\").then(</span></div><div class=\"line\">                    function()&#123;</div><div class=\"line\">                        return <span class=\"variable\">$ocLazyLoad</span>.load(\"view/controllers/account/signUpController.js”);</div><div class=\"line\">                    &#125;</div><div class=\"line\">                );</div><div class=\"line\">            &#125;]</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">];</div></pre></td></tr></table></figure></p>\n<p>myPageRouteManagement.js<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 将配置的数据写入全局的路由数据缓存中</div><div class=\"line\"> *</div><div class=\"line\"> * @param cfgPageStateDataList</div><div class=\"line\"> */</div><div class=\"line\">var gVarAppC<span class=\"built_in\">fg</span>PageStateDataList = [];</div><div class=\"line\">/**</div><div class=\"line\"> * 获取所有配置路由数据</div><div class=\"line\"> * @param cfgStateDataList</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">function</span> gFunSaveC<span class=\"built_in\">fg</span>PageStateDataToBuffer(cfgStateDataList) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var i=0; i &lt; cfgStateDataList.length; i++) &#123;</div><div class=\"line\">        gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.push(cfgStateDataList[i]);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterPageStateDataToStateProvider(appC<span class=\"built_in\">fg</span>PageStateData, registerPageStateFunctionHandle) &#123;</div><div class=\"line\">  registerPageStateFunctionHandle(appC<span class=\"built_in\">fg</span>PageStateData.pageState, appC<span class=\"built_in\">fg</span>PageStateData.pageUrlObject);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">function</span> gFunRegisterAppBasePageStateData(registerPageStateFunctionHandle) &#123;</div><div class=\"line\">    <span class=\"keyword\">for</span> (var index = 0; index &lt; gVarAppC<span class=\"built_in\">fg</span>PageStateDataList.length; index++) &#123;</div><div class=\"line\">    //注册页面路由</div><div class=\"line\">    gFunRegisterPageStateDataToStateProvider(gVarAppC<span class=\"built_in\">fg</span>PageStateDataList[index], registerPageStateFunctionHandle);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cj3e65qry0000dsvkw4v3cze5","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qsr000bdsvk3zml5sqc"},{"post_id":"cj3e65qsp000adsvktqnbrxqz","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qsw000gdsvk6pobww9t"},{"post_id":"cj3e65qsb0001dsvkseyf83nl","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qsx000jdsvk6fwvox4d"},{"post_id":"cj3e65qsv000fdsvkdlcz7koo","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qt0000mdsvkyxut55a5"},{"post_id":"cj3e65qsw000hdsvk6wsc5omb","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qt2000pdsvkiq3p2e5e"},{"post_id":"cj3e65qsy000kdsvkjoiibm8g","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qt7000sdsvk91rwz5x7"},{"post_id":"cj3e65qt0000ndsvkq7ucwhwd","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qta000vdsvkf0n98960"},{"post_id":"cj3e65qt3000qdsvkjm0ywhx7","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qtb000xdsvk72xwykcq"},{"post_id":"cj3e65qt7000tdsvkjlbjohg6","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3e65qtb000zdsvkjkf3x7vn"},{"post_id":"cj3f5aza90000tovk3stq0ujw","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3f5azaf0002tovkpunj4991"},{"post_id":"cj3e65qsm0006dsvk1jn9cztd","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3f68dvx00011cvk4602sbfp"},{"post_id":"cj3e65qsh0005dsvkrpo8pm6g","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3f6a2bs00031cvkqgqodu05"},{"post_id":"cj3e65qsg0004dsvkdu97p9jf","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3f6asbl00051cvk741oppyu"},{"post_id":"cj3e65qsr000cdsvk6pawf4hk","category_id":"cj3e65qsd0002dsvkpv10dmj4","_id":"cj3f6av6s00071cvkgwabwgqs"}],"PostTag":[{"post_id":"cj3e65qry0000dsvkw4v3cze5","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qso0009dsvkqvjf2anb"},{"post_id":"cj3e65qsb0001dsvkseyf83nl","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qsv000edsvk2nanre2b"},{"post_id":"cj3e65qsv000fdsvkdlcz7koo","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qsx000idsvkno0v86ya"},{"post_id":"cj3e65qsw000hdsvk6wsc5omb","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qt0000ldsvk8m37zuo4"},{"post_id":"cj3e65qsp000adsvktqnbrxqz","tag_id":"cj3e65qsu000ddsvkxxl9s5q9","_id":"cj3e65qt2000odsvkmu56dm1m"},{"post_id":"cj3e65qsy000kdsvkjoiibm8g","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qt6000rdsvk6e4g4ujc"},{"post_id":"cj3e65qt0000ndsvkq7ucwhwd","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qta000udsvk8zq8mwnp"},{"post_id":"cj3e65qt3000qdsvkjm0ywhx7","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qtb000wdsvk2lcznqo2"},{"post_id":"cj3e65qt7000tdsvkjlbjohg6","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3e65qtb000ydsvk37p5o15b"},{"post_id":"cj3f5aza90000tovk3stq0ujw","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3f5azae0001tovkg05blhyb"},{"post_id":"cj3e65qsm0006dsvk1jn9cztd","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3f68dvv00001cvk74sxti7z"},{"post_id":"cj3e65qsh0005dsvkrpo8pm6g","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3f6a2br00021cvk7sixwmuw"},{"post_id":"cj3e65qsg0004dsvkdu97p9jf","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3f6asbl00041cvkl9z1vspk"},{"post_id":"cj3e65qsr000cdsvk6pawf4hk","tag_id":"cj3e65qsf0003dsvks9tz53ux","_id":"cj3f6av6s00061cvkgl71766e"}],"Tag":[{"name":"VueJS","_id":"cj3e65qsf0003dsvks9tz53ux"},{"name":"AngularJS","_id":"cj3e65qsu000ddsvkxxl9s5q9"}]}}